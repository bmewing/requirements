<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Version Specific Project Library Management • requirements</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Version Specific Project Library Management">
<meta property="og:description" content="Brings support to R for Python style requirements management via the requirements.txt file.
  Will eventually support most of the PEP 440 standard as described https://www.python.org/dev/peps/pep-0440/#version-specifiers.
  Enables easy documentation of packages used along with single line installation and single line package loading in R.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">requirements</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/basic-use.html">Basic Use</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="requirements" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#requirements" class="anchor"></a>requirements <img src="https://s3.amazonaws.com/mgsub/requirements_hex.png" width="125" align="right">
</h1></div>
<p><a href="https://travis-ci.org/bmewing/requirements"><img src="https://travis-ci.org/bmewing/requirements.svg?branch=master" alt="Build Status"></a> <a href="https://codecov.io/github/bmewing/requirements?branch=master"><img src="https://img.shields.io/codecov/c/github/bmewing/requirements/master.svg" alt="Coverage Status"></a> <a href="https://CRAN.R-project.org/package=requirements"><img src="http://www.r-pkg.org/badges/version/requirements" alt="CRAN_Status_Badge"></a> <img src="http://cranlogs.r-pkg.org/badges/requirements"></p>
<p>An R package to support <code>pip</code> style project dependency management.</p>
<div id="requirements-txt" class="section level2">
<h2 class="hasAnchor">
<a href="#requirements-txt" class="anchor"></a>requirements.txt</h2>
<p>The key player for the <code>requirements</code> package is the <code>requirements.txt</code> file in your project directory. It stores all the external package dependencies for your project along with optional version details. It is typically placed in the root of the project directory as shown below.</p>
<pre><code>your_project_directory
|-- requirements.txt
|-- analysis.R
|-- data
|   |-- first_data.csv
|   |-- second_data.Rdata
|-- .git</code></pre>
<p>It should be a plain text file with one requirement per line and an empty final line. In the example below we indicate that we need any version of <code>lexRankr</code>, a minimum version of <code>mgsub</code>, and a specific version of <code>dplyr</code>. You can write this file by hand or use <code><a href="reference/rip_freeze.html">requirements::rip_freeze()</a></code> to discover all packages currently in use in your project and automatically generate the file (which can then be edited by hand).</p>
<pre><code>lexRankr
mgsub &gt;= 1.5.0
dplyr == 0.7.0
</code></pre>
<p>If you’re starting work in a new environment (e.g. new server, new container) you can easily install all requirements via <code><a href="reference/rip_install.html">requirements::rip_install()</a></code>. This package leverages <code>remotes</code> and <code>metacran</code> to install specific versions that match your packages requirements.</p>
<div id="non-cran-dependencies" class="section level3">
<h3 class="hasAnchor">
<a href="#non-cran-dependencies" class="anchor"></a>Non-CRAN dependencies</h3>
<p>You can also detail non-CRAN dependencies in <code>requirements.txt</code>, similar to how <code>pip</code> supports these types of dependencies. Beyond supporting version control systems like git/svn, there’s support for Bioconductor, generic URLs and local files.</p>
<ul>
<li>git/github: <code>git+davidgohel/officer</code>
</li>
<li>svn: <code>svn+svn://scm.r-forge.r-project.org/svnroot/daewr/pkg/mixexp</code>
</li>
<li>bioconductor: <code>bioc+release/SummarizedExperiment</code>
</li>
<li>generic url source: <code>https://github.com/bmewing/mgsub/releases/download/v.1.5/mgsub_1.5.0.tar.gz</code>
</li>
<li>local file: <code>testdata/my_package.tar.gz</code>
</li>
</ul>
</div>
<div id="nesting-requirements" class="section level3">
<h3 class="hasAnchor">
<a href="#nesting-requirements" class="anchor"></a>Nesting requirements</h3>
<p>You can also source in a requirements file from a requirements file. If you had one ‘standard’ set of requirements plus one project specific you could have a directory structure that looks like this.</p>
<pre><code>your_project_directory
|-- requirements.txt
|-- standard_reqs.txt
|-- analysis.R
|-- data
|   |-- first_data.csv
|   |-- second_data.Rdata
|-- .git</code></pre>
<div id="standard_reqs-txt" class="section level4">
<h4 class="hasAnchor">
<a href="#standard_reqs-txt" class="anchor"></a><code>standard_reqs.txt</code>
</h4>
<pre><code># Standard packages for all projects
data.table #need to identify standard version
magrittr
</code></pre>
</div>
<div id="requirements-txt-1" class="section level4">
<h4 class="hasAnchor">
<a href="#requirements-txt-1" class="anchor"></a><code>requirements.txt</code>
</h4>
<pre><code>lexRankr
mgsub &gt;= 1.5.0
-r standard_reqs.txt
</code></pre>
<p>If you were to run <code><a href="reference/rip_install.html">rip_install('requirements.txt')</a></code> you would install all the dependencies across both files. The line <code>-r standard_reqs.txt</code> indicates the contents of the file should be read and included in the process. Also note that you can include comments (denoted with <code>#</code>) without impacting the functionality.</p>
<ul>
<li><code>lexRankr</code></li>
<li><code>mgsub &gt;= 1.5.0</code></li>
<li><code>data.table</code></li>
<li><code>magrittr</code></li>
</ul>
</div>
</div>
</div>
<div id="but-why" class="section level2">
<h2 class="hasAnchor">
<a href="#but-why" class="anchor"></a>But why?</h2>
<p>Collaboration (both with others and future self) can be challenging. Ensuring all packages that a project depends on are available is not easy with the base R toolset. Another time this is valuable is when upgrading R, and installed packages are not longer available to the new version of R.</p>
<p>With <code>requirements</code> you only need to install one lightweight package and write one human-readable file detailing your dependencies, then a single function call ensures you have all your dependencies available.</p>
<div id="in-line-installation" class="section level3">
<h3 class="hasAnchor">
<a href="#in-line-installation" class="anchor"></a>In-line installation</h3>
<pre><code>if(!require(mgsub)) install.packages('mgsub')</code></pre>
<p>Often code may start with a line that checks if a package is already available and if not, install it. Of course, this example fails to load the package after installation so a user may still have issues running a file. There are good arguments that analysis code should not be in the business of installing packages which might affect other projects, so code like this could be considered undesirable.</p>
<p>The other issue here is that this always installs the latest version available for the person running the code. This can be an issue because the packages your code depends on may have made breaking changes. Now you’ve installed an incompatible version.</p>
</div>
<div id="pacman" class="section level3">
<h3 class="hasAnchor">
<a href="#pacman" class="anchor"></a><code>pacman</code>
</h3>
<p><code>pacman</code> provides a new command, <code>pacman::p_load()</code> which will install a package if it’s not available and then load it. However, it does not allow you to specify specific versions, so it’s not really a solution to managing requirements.</p>
</div>
<div id="packrat" class="section level3">
<h3 class="hasAnchor">
<a href="#packrat" class="anchor"></a><code>packrat</code>
</h3>
<p><code>packrat</code> is a great way of bundling code and packages together. It allows you to have multiple versions of packages installed across different projects. <code>requirements</code> is 100% compatible with <code>packrat</code>, if you’re using <code>packrat</code> it will check against project specific versions and install into the <code>packrat</code> library. This allows you to have a standard set of packages that you use, including versions, which can initialize new projects without multiple installation commands. It also frees you from the complexities of sharing <code>packrat</code> environments between different people and provides a more human readable list of project dependencies.</p>
</div>
</div>
<div id="why-rip_" class="section level2">
<h2 class="hasAnchor">
<a href="#why-rip_" class="anchor"></a>Why <code>rip_*</code>?</h2>
<p><code>pip</code> stand for ‘pip Installs Packages’ and so we wanted to call the project <code>rip</code> for ‘rip Installs Packages’, building on the tradition in R packages of adding ‘r’ to names of things that already exist. Sadly, <code>rIP</code> is already in use on CRAN, so we satisfied ourselves by leveraging <code>rip</code> in our function names. So you can think of <code>rip</code> as standing for ‘requirements installs packages’ (or the more fun recurssive acronym). (We also consider <code>ripr</code> for ‘ripr installs project requirements’ and <code>pipr</code> ‘pipr installs packages in R’).</p>
<ul>
<li>
<code><a href="reference/rip_install.html">rip_install()</a></code> == <code>pip install -r requirements.txt</code>
</li>
<li>
<code><a href="reference/rip_freeze.html">rip_freeze()</a></code> == <code>pip freeze</code>
</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="https://github.com/bmewing/requirements/issues">https://​github.com/​bmewing/​requirements/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Mark Ewing <br><small class="roles"> Author, maintainer </small>  </li>
<li>Adam Spannbauer <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Mark Ewing, Adam Spannbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
